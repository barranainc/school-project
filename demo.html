<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Management System - AI Report Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1976d2;
            --secondary-color: #dc004e;
            --success-color: #2e7d32;
            --warning-color: #ed6c02;
            --error-color: #d32f2f;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .login-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 500px;
            width: 100%;
        }
        
        .dashboard {
            display: none;
            min-height: 100vh;
            background: #f5f5f5;
        }
        
        .sidebar {
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            height: 100vh;
            position: fixed;
            width: 280px;
            overflow-y: auto;
        }
        
        .main-content {
            margin-left: 280px;
            padding: 20px;
        }
        
        .kpi-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        
        .kpi-card:hover {
            transform: translateY(-2px);
        }
        
        .kpi-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }
        
        .trend-up { color: var(--success-color); }
        .trend-down { color: var(--error-color); }
        
        .quick-action {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .quick-action:hover {
            background-color: #f8f9fa;
        }
        
        .student-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-active { background: #e8f5e8; color: var(--success-color); }
        .status-draft { background: #fff3e0; color: var(--warning-color); }
        .status-sent { background: #e3f2fd; color: var(--primary-color); }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div class="login-card p-4">
            <div class="text-center mb-4">
                <h2 class="fw-bold text-primary">School Management System</h2>
                <p class="text-muted">AI Report Assistant</p>
            </div>
            
            <form id="loginForm">
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" required>
                </div>
                <button type="submit" class="btn btn-primary w-100 mb-3">Sign In</button>
            </form>
            
            <div class="text-center">
                <p class="text-muted mb-3">Quick Demo Login</p>
                <div class="row">
                    <div class="col-4">
                        <div class="quick-action text-center" onclick="quickLogin('admin')">
                            <i class="fas fa-school text-primary mb-2" style="font-size: 24px;"></i>
                            <div class="small">Admin</div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="quick-action text-center" onclick="quickLogin('teacher')">
                            <i class="fas fa-user text-primary mb-2" style="font-size: 24px;"></i>
                            <div class="small">Teacher</div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="quick-action text-center" onclick="quickLogin('parent')">
                            <i class="fas fa-users text-primary mb-2" style="font-size: 24px;"></i>
                            <div class="small">Parent</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="dashboard">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container-fluid">
                <span class="navbar-brand">AI Report Assistant - Admin Dashboard</span>
                <div class="d-flex align-items-center">
                    <span class="badge bg-danger me-3">3</span>
                    <div class="dropdown">
                        <button class="btn btn-outline-light dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            School Owner
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" onclick="logout()">Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>

        <div class="d-flex">
            <!-- Sidebar -->
            <div class="sidebar p-3">
                <h5 class="mb-3">Navigation</h5>
                <div class="list-group list-group-flush">
                    <a href="#" class="list-group-item list-group-item-action active" onclick="showSection('dashboard')">
                        <i class="fas fa-tachometer-alt me-2"></i>Executive Summary
                    </a>
                    <a href="#" class="list-group-item list-group-item-action" onclick="showSection('students')">
                        <i class="fas fa-users me-2"></i>Student Management
                    </a>
                    <a href="#" class="list-group-item list-group-item-action" onclick="showSection('teachers')">
                        <i class="fas fa-chalkboard-teacher me-2"></i>Teacher Management
                    </a>
                    <a href="#" class="list-group-item list-group-item-action" onclick="showSection('reports')">
                        <i class="fas fa-file-alt me-2"></i>Report Configuration
                    </a>
                    <a href="#" class="list-group-item list-group-item-action" onclick="showSection('communication')">
                        <i class="fas fa-envelope me-2"></i>Communication Center
                    </a>
                    <a href="#" class="list-group-item list-group-item-action" onclick="showSection('analytics')">
                        <i class="fas fa-chart-line me-2"></i>Advanced Analytics
                    </a>
                    <a href="#" class="list-group-item list-group-item-action" onclick="showSection('settings')">
                        <i class="fas fa-cog me-2"></i>System Settings
                    </a>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <div id="dashboardSection">
                    <h2 class="mb-4">Executive Summary</h2>
                    
                    <!-- Top Insights -->
                    <div class="alert alert-info mb-4">
                        <h6><i class="fas fa-lightbulb me-2"></i>Top Insights This Week</h6>
                        <p class="mb-0">Literacy scores in Grade 3 show a 15% improvement this term</p>
                    </div>

                    <!-- KPI Cards -->
                    <div class="row mb-4">
                        <div class="col-md-4 mb-3">
                            <div class="kpi-card">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="kpi-icon me-3" style="background: var(--primary-color);">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div>
                                        <div class="text-muted small">Total Students Enrolled</div>
                                        <div class="h4 mb-0 fw-bold">324</div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-arrow-up trend-up me-2"></i>
                                    <span class="text-success small">+12% from last period</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <div class="kpi-card">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="kpi-icon me-3" style="background: var(--success-color);">
                                        <i class="fas fa-chalkboard-teacher"></i>
                                    </div>
                                    <div>
                                        <div class="text-muted small">Active Teachers</div>
                                        <div class="h4 mb-0 fw-bold">18</div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-arrow-up trend-up me-2"></i>
                                    <span class="text-success small">+2 from last period</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <div class="kpi-card">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="kpi-icon me-3" style="background: var(--warning-color);">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <div>
                                        <div class="text-muted small">Reports Generated</div>
                                        <div class="h4 mb-0 fw-bold">1,247</div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-arrow-up trend-up me-2"></i>
                                    <span class="text-success small">+15% from last period</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">Quick Actions</h6>
                                    <div class="mb-3">
                                        <button class="btn btn-sm btn-outline-info w-100" onclick="showSection('students')">
                                            <i class="fas fa-users me-2"></i>Test Student Management
                                        </button>
                                    </div>
                                    <div class="mb-3">
                                        <button class="btn btn-sm btn-outline-info w-100" onclick="showSection('teachers')">
                                            <i class="fas fa-chalkboard-teacher me-2"></i>Test Teacher Management
                                        </button>
                                    </div>
                                    <div class="quick-action">
                                        <div class="fw-bold">📊 Generate Monthly Report</div>
                                        <div class="text-muted small">Create comprehensive monthly summary</div>
                                    </div>
                                    <div class="quick-action">
                                        <div class="fw-bold">📧 Send Parent Newsletter</div>
                                        <div class="text-muted small">Communicate school updates</div>
                                    </div>
                                    <div class="quick-action">
                                        <div class="fw-bold">👥 Review Teacher Performance</div>
                                        <div class="text-muted small">Analyze teacher activity metrics</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Student Management Section -->
                <div id="studentsSection" style="display: none;">
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle me-2"></i>
                        <strong>Student Management Section Loaded Successfully!</strong>
                    </div>
                    <h2 class="mb-4">Student Management</h2>
                    
                    <!-- Search and Actions -->
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Search students..." id="studentSearch">
                                <button class="btn btn-outline-secondary" type="button">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>
                        <div class="col-md-6 text-end">
                            <button class="btn btn-primary me-2" onclick="addStudent()">
                                <i class="fas fa-plus me-2"></i>Add Student
                            </button>
                            <button class="btn btn-outline-primary me-2" onclick="importStudents()">
                                <i class="fas fa-upload me-2"></i>Import
                            </button>
                            <button class="btn btn-outline-secondary" onclick="exportStudents()">
                                <i class="fas fa-download me-2"></i>Export
                            </button>
                        </div>
                    </div>

                    <!-- Student Directory Table -->
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="selectAll"></th>
                                            <th>Student</th>
                                            <th>Grade</th>
                                            <th>Class</th>
                                            <th>Status</th>
                                            <th>Last Report</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="studentTableBody">
                                        <tr>
                                            <td><input type="checkbox" class="student-checkbox"></td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 35px; height: 35px;">
                                                        <i class="fas fa-user"></i>
                                                    </div>
                                                    <div>
                                                        <div class="fw-bold">Emma Johnson</div>
                                                        <small class="text-muted">ID: ST001</small>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>Grade 3</td>
                                            <td>3A</td>
                                            <td><span class="badge bg-success">Active</span></td>
                                            <td>2024-01-15</td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-primary" onclick="viewStudent('ST001')">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" onclick="editStudent('ST001')">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox" class="student-checkbox"></td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 35px; height: 35px;">
                                                        <i class="fas fa-user"></i>
                                                    </div>
                                                    <div>
                                                        <div class="fw-bold">Liam Smith</div>
                                                        <small class="text-muted">ID: ST002</small>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>Grade 4</td>
                                            <td>4A</td>
                                            <td><span class="badge bg-success">Active</span></td>
                                            <td>2024-01-14</td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-primary" onclick="viewStudent('ST002')">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" onclick="editStudent('ST002')">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox" class="student-checkbox"></td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 35px; height: 35px;">
                                                        <i class="fas fa-user"></i>
                                                    </div>
                                                    <div>
                                                        <div class="fw-bold">Olivia Davis</div>
                                                        <small class="text-muted">ID: ST003</small>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>Grade 3</td>
                                            <td>3B</td>
                                            <td><span class="badge bg-warning">Pending</span></td>
                                            <td>2024-01-10</td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-primary" onclick="viewStudent('ST003')">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" onclick="editStudent('ST003')">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Teacher Management Section -->
                <div id="teachersSection" style="display: none;">
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle me-2"></i>
                        <strong>Teacher Management Section Loaded Successfully!</strong>
                    </div>
                    <h2 class="mb-4">Teacher Management</h2>
                    
                    <!-- Teacher Performance Overview -->
                    <div class="row mb-4">
                        <div class="col-md-3 mb-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h4 class="text-primary">18</h4>
                                    <small class="text-muted">Active Teachers</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h4 class="text-success">85%</h4>
                                    <small class="text-muted">Average Performance</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h4 class="text-warning">3</h4>
                                    <small class="text-muted">Reports Pending</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card text-center">
                                <div class="card-body">
                                    <h4 class="text-info">92%</h4>
                                    <small class="text-muted">System Usage</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Teacher List -->
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Teacher</th>
                                            <th>Class</th>
                                            <th>Students</th>
                                            <th>Reports Generated</th>
                                            <th>Performance Score</th>
                                            <th>Last Activity</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 35px; height: 35px;">
                                                        <i class="fas fa-chalkboard-teacher"></i>
                                                    </div>
                                                    <div>
                                                        <div class="fw-bold">Jane Teacher</div>
                                                        <small class="text-muted">jane@school.com</small>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>Grade 3A</td>
                                            <td>24</td>
                                            <td>96</td>
                                            <td>
                                                <div class="progress" style="height: 6px;">
                                                    <div class="progress-bar bg-success" style="width: 92%"></div>
                                                </div>
                                                <small>92%</small>
                                            </td>
                                            <td>2 hours ago</td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-primary" onclick="viewTeacherPerformance('T001')">
                                                    <i class="fas fa-chart-line"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" onclick="contactTeacher('T001')">
                                                    <i class="fas fa-envelope"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 35px; height: 35px;">
                                                        <i class="fas fa-chalkboard-teacher"></i>
                                                    </div>
                                                    <div>
                                                        <div class="fw-bold">Mike Johnson</div>
                                                        <small class="text-muted">mike@school.com</small>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>Grade 4A</td>
                                            <td>22</td>
                                            <td>88</td>
                                            <td>
                                                <div class="progress" style="height: 6px;">
                                                    <div class="progress-bar bg-success" style="width: 88%"></div>
                                                </div>
                                                <small>88%</small>
                                            </td>
                                            <td>1 day ago</td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-primary" onclick="viewTeacherPerformance('T002')">
                                                    <i class="fas fa-chart-line"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" onclick="contactTeacher('T002')">
                                                    <i class="fas fa-envelope"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 35px; height: 35px;">
                                                        <i class="fas fa-chalkboard-teacher"></i>
                                                    </div>
                                                    <div>
                                                        <div class="fw-bold">Sarah Wilson</div>
                                                        <small class="text-muted">sarah@school.com</small>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>Grade 3B</td>
                                            <td>26</td>
                                            <td>102</td>
                                            <td>
                                                <div class="progress" style="height: 6px;">
                                                    <div class="progress-bar bg-warning" style="width: 75%"></div>
                                                </div>
                                                <small>75%</small>
                                            </td>
                                            <td>3 days ago</td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-primary" onclick="viewTeacherPerformance('T003')">
                                                    <i class="fas fa-chart-line"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" onclick="contactTeacher('T003')">
                                                    <i class="fas fa-envelope"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="reportsSection" style="display: none;">
                    <h2>Report Configuration</h2>
                    <p>Report templates, custom fields, and branding options will be displayed here.</p>
                </div>

                        <div id="communicationSection" style="display: none;">
          <h2>Communication Center</h2>
          
          <div class="row">
            <!-- Email Delivery Log -->
            <div class="col-md-8 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6>Email Delivery Log</h6>
                    <button class="btn btn-primary btn-sm">
                      <i class="fas fa-paper-plane me-2"></i>Send Custom Email
                    </button>
                  </div>
                  
                  <div class="table-responsive">
                    <table class="table table-sm">
                      <thead>
                        <tr>
                          <th>Recipient</th>
                          <th>Subject</th>
                          <th>Status</th>
                          <th>Sent</th>
                          <th>Opened</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>parent1@email.com</td>
                          <td>Emma Johnson - Monthly Progress Report</td>
                          <td><span class="badge bg-success">Sent</span></td>
                          <td>2024-01-15 14:30</td>
                          <td><span class="badge bg-success">Opened</span></td>
                        </tr>
                        <tr>
                          <td>parent2@email.com</td>
                          <td>Liam Smith - Weekly Update</td>
                          <td><span class="badge bg-success">Sent</span></td>
                          <td>2024-01-15 14:25</td>
                          <td><span class="badge bg-secondary">Not Opened</span></td>
                        </tr>
                        <tr>
                          <td>parent3@email.com</td>
                          <td>Olivia Davis - Monthly Progress Report</td>
                          <td><span class="badge bg-danger">Bounced</span></td>
                          <td>2024-01-15 14:20</td>
                          <td><span class="badge bg-secondary">Not Opened</span></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>

            <!-- Notification Settings -->
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <h6><i class="fas fa-bell text-primary me-2"></i>Notification Settings</h6>
                  
                  <div class="form-check form-switch mb-2">
                    <input class="form-check-input" type="checkbox" checked>
                    <label class="form-check-label">Low report generation activity</label>
                  </div>
                  
                  <div class="form-check form-switch mb-2">
                    <input class="form-check-input" type="checkbox" checked>
                    <label class="form-check-label">High bounce rate on parent emails</label>
                  </div>
                  
                  <div class="form-check form-switch mb-2">
                    <input class="form-check-input" type="checkbox">
                    <label class="form-check-label">New reports available</label>
                  </div>
                  
                  <div class="form-check form-switch mb-2">
                    <input class="form-check-input" type="checkbox" checked>
                    <label class="form-check-label">System updates and maintenance</label>
                  </div>
                  
                  <button class="btn btn-outline-primary w-100 mt-3">
                    <i class="fas fa-cog me-2"></i>Save Settings
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Email Statistics -->
          <div class="row">
            <div class="col-md-3 mb-3">
              <div class="card text-center">
                <div class="card-body">
                  <h4 class="text-primary">1,247</h4>
                  <small class="text-muted">Total Emails Sent</small>
                </div>
              </div>
            </div>
            <div class="col-md-3 mb-3">
              <div class="card text-center">
                <div class="card-body">
                  <h4 class="text-success">87%</h4>
                  <small class="text-muted">Open Rate</small>
                </div>
              </div>
            </div>
            <div class="col-md-3 mb-3">
              <div class="card text-center">
                <div class="card-body">
                  <h4 class="text-warning">2.3%</h4>
                  <small class="text-muted">Bounce Rate</small>
                </div>
              </div>
            </div>
            <div class="col-md-3 mb-3">
              <div class="card text-center">
                <div class="card-body">
                  <h4 class="text-info">45%</h4>
                  <small class="text-muted">Click Rate</small>
                </div>
              </div>
            </div>
          </div>
        </div>

                        <div id="analyticsSection" style="display: none;">
          <h2>Advanced Analytics</h2>
          
          <!-- AI-Generated Executive Summary -->
          <div class="alert alert-info mb-4">
            <h6>🤖 AI-Generated Executive Summary</h6>
            <p>Analysis indicates a strong focus on collaborative learning this term, with positive impacts on peer interaction. Attention span, however, shows slight decline in younger grades, suggesting a need for adjusted activity pacing.</p>
          </div>

          <div class="row">
            <!-- Growth Hotspots -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <h6><i class="fas fa-trending-up text-success me-2"></i>Growth Hotspots</h6>
                  <p class="text-muted">Areas showing significant collective improvement</p>
                  
                  <div class="alert alert-success">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <strong>Problem Solving</strong><br>
                        <small>Grade 4 • 45 students</small>
                      </div>
                      <span class="badge bg-success">+18%</span>
                    </div>
                  </div>
                  
                  <div class="alert alert-success">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <strong>Social Skills</strong><br>
                        <small>Grade 2 • 38 students</small>
                      </div>
                      <span class="badge bg-success">+15%</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Areas for Intervention -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <h6><i class="fas fa-exclamation-triangle text-warning me-2"></i>Areas for Intervention</h6>
                  <p class="text-muted">Common development areas flagged across students</p>
                  
                  <div class="alert alert-warning">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <strong>Self-regulation</strong><br>
                        <small>Year 1 • 28 students affected</small>
                      </div>
                      <span class="badge bg-warning">67% flagged</span>
                    </div>
                  </div>
                  
                  <div class="alert alert-warning">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <strong>Attention Span</strong><br>
                        <small>Grade 2 • 22 students affected</small>
                      </div>
                      <span class="badge bg-warning">45% flagged</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ROI Projections -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <h6><i class="fas fa-chart-line text-primary me-2"></i>ROI Projections</h6>
                  <div class="text-center mb-3">
                    <h3 class="text-primary">$4,800</h3>
                    <small class="text-muted">Estimated annual cost savings</small>
                  </div>
                  <ul class="list-unstyled">
                    <li><i class="fas fa-clock text-success me-2"></i>120 hours saved per term</li>
                    <li><i class="fas fa-check-circle text-success me-2"></i>35% efficiency gain</li>
                    <li><i class="fas fa-users text-primary me-2"></i>324 students • 4 reports per term</li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Actionable Recommendations -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <h6><i class="fas fa-lightbulb text-warning me-2"></i>Actionable Recommendations</h6>
                  <ul class="list-unstyled">
                    <li><i class="fas fa-check text-success me-2"></i>Implement emotional literacy program</li>
                    <li><i class="fas fa-check text-success me-2"></i>Review numeracy curriculum for Grade 3</li>
                    <li><i class="fas fa-check text-success me-2"></i>Enhance collaborative learning activities</li>
                  </ul>
                  <button class="btn btn-primary w-100">Generate Detailed Action Plan</button>
                </div>
              </div>
            </div>
          </div>
        </div>

                        <div id="settingsSection" style="display: none;">
          <h2>System Settings</h2>
          
          <div class="row">
            <!-- API Keys Management -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6><i class="fas fa-key text-primary me-2"></i>API Keys & Integrations</h6>
                    <button class="btn btn-primary btn-sm">
                      <i class="fas fa-plus me-2"></i>Add API Key
                    </button>
                  </div>
                  
                  <div class="table-responsive">
                    <table class="table table-sm">
                      <thead>
                        <tr>
                          <th>Name</th>
                          <th>Key</th>
                          <th>Status</th>
                          <th>Last Used</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>SIS Integration</td>
                          <td><code>••••••••••••••••</code></td>
                          <td><span class="badge bg-success">Active</span></td>
                          <td>2024-01-15 10:30</td>
                        </tr>
                        <tr>
                          <td>Email Service</td>
                          <td><code>••••••••••••••••</code></td>
                          <td><span class="badge bg-success">Active</span></td>
                          <td>2024-01-15 14:20</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>

            <!-- User Roles & Permissions -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center mb-3">
                    <h6><i class="fas fa-users text-primary me-2"></i>User Roles & Permissions</h6>
                    <button class="btn btn-primary btn-sm">
                      <i class="fas fa-plus me-2"></i>Add User
                    </button>
                  </div>
                  
                  <div class="table-responsive">
                    <table class="table table-sm">
                      <thead>
                        <tr>
                          <th>User</th>
                          <th>Role</th>
                          <th>Status</th>
                          <th>Last Login</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>
                            <div>
                              <strong>School Owner</strong><br>
                              <small>admin@school.com</small>
                            </div>
                          </td>
                          <td><span class="badge bg-danger">Admin</span></td>
                          <td><span class="badge bg-success">Active</span></td>
                          <td>2024-01-15 15:30</td>
                        </tr>
                        <tr>
                          <td>
                            <div>
                              <strong>Jane Teacher</strong><br>
                              <small>teacher@school.com</small>
                            </div>
                          </td>
                          <td><span class="badge bg-primary">Teacher</span></td>
                          <td><span class="badge bg-success">Active</span></td>
                          <td>2024-01-15 14:15</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Audit Log -->
          <div class="card mb-3">
            <div class="card-body">
              <h6><i class="fas fa-history text-primary me-2"></i>Audit Log</h6>
              
              <div class="table-responsive">
                <table class="table table-sm">
                  <thead>
                    <tr>
                      <th>Action</th>
                      <th>User</th>
                      <th>Target</th>
                      <th>Timestamp</th>
                      <th>IP Address</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><span class="badge bg-primary">Student Added</span></td>
                      <td>School Owner</td>
                      <td>Emma Johnson</td>
                      <td>2024-01-15 16:00</td>
                      <td><code>192.168.1.100</code></td>
                    </tr>
                    <tr>
                      <td><span class="badge bg-primary">Report Generated</span></td>
                      <td>Jane Teacher</td>
                      <td>Liam Smith Report</td>
                      <td>2024-01-15 15:45</td>
                      <td><code>192.168.1.101</code></td>
                    </tr>
                    <tr>
                      <td><span class="badge bg-primary">Settings Updated</span></td>
                      <td>School Owner</td>
                      <td>Email Configuration</td>
                      <td>2024-01-15 15:30</td>
                      <td><code>192.168.1.100</code></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
            </div>
        </div>
    </div>

    <!-- Teachers UI -->
    <div id="teachersUI" class="dashboard">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container-fluid">
                <span class="navbar-brand">Teacher Dashboard - Jane Teacher</span>
                <div class="d-flex align-items-center">
                    <select class="form-select me-3" style="width: auto;">
                        <option>Grade 3A</option>
                        <option>Grade 3B</option>
                        <option>Grade 4A</option>
                    </select>
                    <button class="btn btn-outline-light" onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>

        <div class="container-fluid p-4">
            <h2 class="mb-4">Student Reports</h2>
            
            <div class="row">
                <div class="col-md-4 mb-3">
                    <div class="student-card">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Emma Johnson</h6>
                                <span class="status-badge status-active">Active</span>
                            </div>
                        </div>
                        <button class="btn btn-primary w-100">
                            <i class="fas fa-microphone me-2"></i>Record Report
                        </button>
                    </div>
                </div>

                <div class="col-md-4 mb-3">
                    <div class="student-card">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Liam Smith</h6>
                                <span class="status-badge status-draft">Draft Ready</span>
                            </div>
                        </div>
                        <div class="d-flex gap-2">
                            <button class="btn btn-primary flex-fill">
                                <i class="fas fa-microphone me-2"></i>Record Report
                            </button>
                            <button class="btn btn-outline-secondary">
                                <i class="fas fa-edit"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-md-4 mb-3">
                    <div class="student-card">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Olivia Davis</h6>
                                <span class="status-badge status-sent">Sent</span>
                            </div>
                        </div>
                        <div class="text-muted small mb-2">Last Report: 2024-01-13</div>
                        <button class="btn btn-primary w-100">
                            <i class="fas fa-microphone me-2"></i>Record Report
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Parents UI -->
    <div id="parentsUI" class="dashboard">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container-fluid">
                <span class="navbar-brand">Parent Portal - John Parent</span>
                <div class="d-flex align-items-center">
                    <button class="btn btn-outline-light me-2">
                        <i class="fas fa-language"></i>
                    </button>
                    <button class="btn btn-outline-light me-2">
                        <i class="fas fa-bell"></i>
                    </button>
                    <button class="btn btn-outline-light" onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>

        <div class="container-fluid p-4">
            <h2 class="mb-4">Welcome Back!</h2>
            
            <!-- Children Overview -->
            <div class="row mb-4">
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="mb-0">Emma Johnson</h6>
                                    <div class="text-muted small">Grade 3 - 3A</div>
                                </div>
                                <span class="badge bg-primary">Active</span>
                            </div>
                            <button class="btn btn-primary w-100">View Reports</button>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="mb-0">Liam Johnson</h6>
                                    <div class="text-muted small">Grade 1 - 1B</div>
                                </div>
                            </div>
                            <button class="btn btn-outline-primary w-100">View Reports</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports Section -->
            <div class="card mb-4">
                <div class="card-body">
                    <h6 class="card-title">Reports for Emma Johnson</h6>
                    <div class="list-group list-group-flush">
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <div class="d-flex align-items-center">
                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 30px; height: 30px;">
                                        <i class="fas fa-school"></i>
                                    </div>
                                    <div>
                                        <div class="fw-bold">Monthly Progress Report</div>
                                        <div class="text-muted small">Date: 2024-01-15</div>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center gap-2">
                                <span class="badge bg-danger">New</span>
                                <button class="btn btn-sm btn-outline-secondary">
                                    <i class="fas fa-download"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-secondary">
                                    <i class="fas fa-print"></i>
                                </button>
                                <button class="btn btn-sm btn-primary">View</button>
                            </div>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <div class="d-flex align-items-center">
                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 30px; height: 30px;">
                                        <i class="fas fa-school"></i>
                                    </div>
                                    <div>
                                        <div class="fw-bold">Weekly Update</div>
                                        <div class="text-muted small">Date: 2024-01-10</div>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center gap-2">
                                <span class="badge bg-secondary">Read</span>
                                <button class="btn btn-sm btn-outline-secondary">
                                    <i class="fas fa-download"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-secondary">
                                    <i class="fas fa-print"></i>
                                </button>
                                <button class="btn btn-sm btn-primary">View</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Communication Hub -->
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h6 class="card-title">Quick Actions</h6>
                            <button class="btn btn-outline-primary w-100 mb-2">
                                <i class="fas fa-envelope me-2"></i>Contact Teacher
                            </button>
                            <button class="btn btn-outline-primary w-100">
                                <i class="fas fa-school me-2"></i>School Announcements
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h6 class="card-title">Recent Activity</h6>
                            <div class="text-muted small">
                                • New report available for Emma (2 hours ago)<br>
                                • Teacher Sarah sent a message (1 day ago)<br>
                                • Monthly newsletter received (3 days ago)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // URL routing functionality
        function handleURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const role = urlParams.get('role');
            
            if (role) {
                showDashboard(role);
            }
        }

        // Handle direct URL access
        window.addEventListener('load', handleURL);

        function quickLogin(role) {
            const credentials = {
                admin: { email: 'admin@school.com', password: 'password' },
                teacher: { email: 'teacher@school.com', password: 'password' },
                parent: { email: 'parent@school.com', password: 'password' }
            };
            
            document.getElementById('email').value = credentials[role].email;
            document.getElementById('password').value = credentials[role].password;
        }

        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (email.includes('admin')) {
                showDashboard('admin');
                updateURL('admin');
            } else if (email.includes('teacher')) {
                showDashboard('teacher');
                updateURL('teacher');
            } else if (email.includes('parent')) {
                showDashboard('parent');
                updateURL('parent');
            } else {
                alert('Invalid credentials. Please use the demo login buttons.');
            }
        });

        function showDashboard(role) {
            document.getElementById('loginPage').style.display = 'none';
            
            if (role === 'admin') {
                document.getElementById('adminDashboard').style.display = 'block';
                document.getElementById('teachersUI').style.display = 'none';
                document.getElementById('parentsUI').style.display = 'none';
            } else if (role === 'teacher') {
                document.getElementById('teachersUI').style.display = 'block';
                document.getElementById('adminDashboard').style.display = 'none';
                document.getElementById('parentsUI').style.display = 'none';
            } else if (role === 'parent') {
                document.getElementById('parentsUI').style.display = 'block';
                document.getElementById('adminDashboard').style.display = 'none';
                document.getElementById('teachersUI').style.display = 'none';
            }
        }

        function updateURL(role) {
            const url = new URL(window.location);
            url.searchParams.set('role', role);
            window.history.pushState({}, '', url);
        }

        function showSection(section) {
            // Hide all sections
            const sections = ['dashboard', 'students', 'teachers', 'reports', 'communication', 'analytics', 'settings'];
            sections.forEach(s => {
                document.getElementById(s + 'Section').style.display = 'none';
            });
            
            // Show selected section
            document.getElementById(section + 'Section').style.display = 'block';
            
            // Update active state in sidebar
            document.querySelectorAll('.list-group-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function logout() {
            document.getElementById('adminDashboard').style.display = 'none';
            document.getElementById('teachersUI').style.display = 'none';
            document.getElementById('parentsUI').style.display = 'none';
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('loginForm').reset();
            
            // Clear URL parameters
            const url = new URL(window.location);
            url.searchParams.delete('role');
            window.history.pushState({}, '', url);
        }

        // Student Management Functions
        function addStudent() { alert('Opening Add Student form...'); }
        function importStudents() { alert('Opening file upload for student import...'); }
        function exportStudents() { alert('Downloading student data as CSV...'); }
        function viewStudent(studentId) { alert(`Viewing student profile for ${studentId}...`); }
        function editStudent(studentId) { alert(`Editing student ${studentId}...`); }

        // Teacher Management Functions
        function viewTeacherPerformance(teacherId) { alert(`Opening performance dashboard for teacher ${teacherId}...`); }
        function contactTeacher(teacherId) { alert(`Opening contact form for teacher ${teacherId}...`); }

        // Report Configuration Functions
        function addTemplate() { alert('Opening template creation form...'); }
        function editTemplate(templateId) { alert(`Editing template ${templateId}...`); }
        function previewTemplate(templateId) { alert(`Previewing template ${templateId}...`); }
        function addCustomField() { alert('Opening custom field creation form...'); }
        function editCustomField(fieldId) { alert(`Editing custom field ${fieldId}...`); }
        function saveBranding() { alert('Branding settings saved successfully!'); }

        // Communication Functions
        function sendCustomEmail() { alert('Opening custom email composition form...'); }
        function viewEmail(emailId) { alert(`Viewing email ${emailId}...`); }
        function saveNotificationSettings() { alert('Notification settings saved successfully!'); }

        // Analytics Functions
        function generateActionPlan() { alert('Generating detailed action plan...'); }

        // System Settings Functions
        function addApiKey() { alert('Opening API key creation form...'); }
        function editApiKey(keyId) { alert(`Editing API key ${keyId}...`); }
        function deleteApiKey(keyId) { if (confirm('Are you sure you want to delete this API key?')) { alert(`API key ${keyId} deleted successfully!`); } }
        function addUser() { alert('Opening user creation form...'); }
        function editUser(userId) { alert(`Editing user ${userId}...`); }
        function deleteUser(userId) { if (confirm('Are you sure you want to delete this user?')) { alert(`User ${userId} deleted successfully!`); } }

        // Initialize student search functionality
        document.addEventListener('DOMContentLoaded', function() {
            const studentSearch = document.getElementById('studentSearch');
            if (studentSearch) {
                studentSearch.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.toLowerCase();
                    const rows = document.querySelectorAll('#studentTableBody tr');
                    rows.forEach(row => {
                        const studentName = row.querySelector('.fw-bold').textContent.toLowerCase();
                        if (studentName.includes(searchTerm)) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    });
                });
            }

            // Select all functionality
            const selectAll = document.getElementById('selectAll');
            if (selectAll) {
                selectAll.addEventListener('change', function(e) {
                    const checkboxes = document.querySelectorAll('.student-checkbox');
                    checkboxes.forEach(checkbox => {
                        checkbox.checked = e.target.checked;
                    });
                });
            }
        });
    </script>
</body>
</html> 